{"ast":null,"code":"import _objectSpread from\"/home/gaurav/Downloads/ITCC-System-master/frontend/node_modules/.pnpm/@babel+runtime@7.27.1/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import{Container,Form,Button}from'react-bootstrap';import{Link,useNavigate}from'react-router-dom';import axios from'axios';import{toast}from'react-hot-toast';import'./signup.comp.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Signup=()=>{const[formData,setFormData]=useState({name:'',dept:'',designation:'',email:'',contactNumber:'',employeeNumber:'',role:'',password:''});const navigate=useNavigate();const handleChange=e=>{const{name,value}=e.target;setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:value}));};const handleSubmit=async e=>{e.preventDefault();// Optional: Simple front-end validation for required fields\nif(!formData.name||!formData.email||!formData.password){toast.error('Please fill in all required fields.');return;}try{const response=await axios.post(\"\".concat(process.env.REACT_APP_API_BASE_URL||'http://localhost:5000',\"/api/users\"),formData,{headers:{'Content-Type':'application/json'}});localStorage.setItem('token',response.data.token);navigate('/ticket');}catch(error){var _error$response,_error$response$data;toast.error(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.error)||'Signup failed. Please try again.',{duration:5000});}};return/*#__PURE__*/_jsxs(Container,{className:\"signup-container\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"signup-title\",children:\"Employee Signup\"}),/*#__PURE__*/_jsxs(Form,{className:\"signup-form\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(Form.Group,{controlId:\"formName\",className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Name\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",name:\"name\",placeholder:\"Enter your name\",value:formData.name,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"formDept\",className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Department\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",name:\"dept\",placeholder:\"Enter your department\",value:formData.dept,onChange:handleChange})]}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"formDesignation\",className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Designation\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",name:\"designation\",placeholder:\"Enter your designation\",value:formData.designation,onChange:handleChange})]}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"formEmail\",className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Email\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"email\",name:\"email\",placeholder:\"Enter your email\",value:formData.email,onChange:handleChange,required:true,autoComplete:\"email\"})]}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"formContactNumber\",className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Contact Number\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",name:\"contactNumber\",placeholder:\"Enter your contact number\",value:formData.contactNumber,onChange:handleChange})]}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"formEmployeeNumber\",className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"SAIL Employee Number\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",name:\"employeeNumber\",placeholder:\"Enter your SAIL employee number\",value:formData.employeeNumber,onChange:handleChange})]}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"formRole\",className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Role\"}),/*#__PURE__*/_jsxs(Form.Select,{name:\"role\",value:formData.role,onChange:handleChange,required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Role\"}),/*#__PURE__*/_jsx(\"option\",{value:\"employee\",children:\"Employee\"}),/*#__PURE__*/_jsx(\"option\",{value:\"admin\",children:\"Admin\"})]})]}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"formPassword\",className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Password\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"password\",name:\"password\",placeholder:\"Enter your password\",value:formData.password,onChange:handleChange,required:true,autoComplete:\"new-password\"})]}),/*#__PURE__*/_jsx(Button,{type:\"submit\",className:\"signup-button\",children:\"Signup\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"login-link\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"Already have an account? \",/*#__PURE__*/_jsx(Link,{to:\"/login\",children:\"Login here\"})]})})]});};export default Signup;","map":{"version":3,"names":["React","useState","Container","Form","Button","Link","useNavigate","axios","toast","jsx","_jsx","jsxs","_jsxs","Signup","formData","setFormData","name","dept","designation","email","contactNumber","employeeNumber","role","password","navigate","handleChange","e","value","target","prev","_objectSpread","handleSubmit","preventDefault","error","response","post","concat","process","env","REACT_APP_API_BASE_URL","headers","localStorage","setItem","data","token","_error$response","_error$response$data","duration","className","children","onSubmit","Group","controlId","Label","Control","type","placeholder","onChange","required","autoComplete","Select","to"],"sources":["/home/gaurav/Downloads/ITCC-System-master/frontend/src/components/signup/signup.comp.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { Container, Form, Button } from 'react-bootstrap';\nimport { Link, useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport { toast } from 'react-hot-toast';\nimport './signup.comp.css';\n\nconst Signup = () => {\n  const [formData, setFormData] = useState({\n    name: '',\n    dept: '',\n    designation: '',\n    email: '',\n    contactNumber: '',\n    employeeNumber: '',\n    role: '',\n    password: '',\n  });\n\n  const navigate = useNavigate();\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setFormData(prev => ({ ...prev, [name]: value }));\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    // Optional: Simple front-end validation for required fields\n    if (!formData.name || !formData.email || !formData.password) {\n      toast.error('Please fill in all required fields.');\n      return;\n    }\n\n    try {\n      const response = await axios.post(\n        `${process.env.REACT_APP_API_BASE_URL || 'http://localhost:5000'}/api/users`,\n        formData,\n        { headers: { 'Content-Type': 'application/json' } }\n      );\n\n      localStorage.setItem('token', response.data.token);\n      navigate('/ticket');\n    } catch (error) {\n      toast.error(error.response?.data?.error || 'Signup failed. Please try again.', { duration: 5000 });\n    }\n  };\n\n  return (\n    <Container className=\"signup-container\">\n      <h1 className=\"signup-title\">Employee Signup</h1>\n      <Form className=\"signup-form\" onSubmit={handleSubmit}>\n        <Form.Group controlId=\"formName\" className=\"mb-3\">\n          <Form.Label>Name</Form.Label>\n          <Form.Control\n            type=\"text\"\n            name=\"name\"\n            placeholder=\"Enter your name\"\n            value={formData.name}\n            onChange={handleChange}\n            required\n          />\n        </Form.Group>\n        <Form.Group controlId=\"formDept\" className=\"mb-3\">\n          <Form.Label>Department</Form.Label>\n          <Form.Control\n            type=\"text\"\n            name=\"dept\"\n            placeholder=\"Enter your department\"\n            value={formData.dept}\n            onChange={handleChange}\n          />\n        </Form.Group>\n        <Form.Group controlId=\"formDesignation\" className=\"mb-3\">\n          <Form.Label>Designation</Form.Label>\n          <Form.Control\n            type=\"text\"\n            name=\"designation\"\n            placeholder=\"Enter your designation\"\n            value={formData.designation}\n            onChange={handleChange}\n          />\n        </Form.Group>\n        <Form.Group controlId=\"formEmail\" className=\"mb-3\">\n          <Form.Label>Email</Form.Label>\n          <Form.Control\n            type=\"email\"\n            name=\"email\"\n            placeholder=\"Enter your email\"\n            value={formData.email}\n            onChange={handleChange}\n            required\n            autoComplete=\"email\"\n          />\n        </Form.Group>\n        <Form.Group controlId=\"formContactNumber\" className=\"mb-3\">\n          <Form.Label>Contact Number</Form.Label>\n          <Form.Control\n            type=\"text\"\n            name=\"contactNumber\"\n            placeholder=\"Enter your contact number\"\n            value={formData.contactNumber}\n            onChange={handleChange}\n          />\n        </Form.Group>\n        <Form.Group controlId=\"formEmployeeNumber\" className=\"mb-3\">\n          <Form.Label>SAIL Employee Number</Form.Label>\n          <Form.Control\n            type=\"text\"\n            name=\"employeeNumber\"\n            placeholder=\"Enter your SAIL employee number\"\n            value={formData.employeeNumber}\n            onChange={handleChange}\n          />\n        </Form.Group>\n        <Form.Group controlId=\"formRole\" className=\"mb-3\">\n          <Form.Label>Role</Form.Label>\n          <Form.Select name=\"role\" value={formData.role} onChange={handleChange} required>\n            <option value=\"\">Select Role</option>\n            <option value=\"employee\">Employee</option>\n            <option value=\"admin\">Admin</option>\n          </Form.Select>\n        </Form.Group>\n        <Form.Group controlId=\"formPassword\" className=\"mb-3\">\n          <Form.Label>Password</Form.Label>\n          <Form.Control\n            type=\"password\"\n            name=\"password\"\n            placeholder=\"Enter your password\"\n            value={formData.password}\n            onChange={handleChange}\n            required\n            autoComplete=\"new-password\"\n          />\n        </Form.Group>\n        <Button type=\"submit\" className=\"signup-button\">\n          Signup\n        </Button>\n      </Form>\n      <div className=\"login-link\">\n        <p>\n          Already have an account? <Link to=\"/login\">Login here</Link>\n        </p>\n      </div>\n    </Container>\n  );\n};\n\nexport default Signup;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}